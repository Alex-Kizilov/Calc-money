{"version":3,"sources":["components/total/Total.js","components/operation/Operation.js","components/history/HistoryItem.js","components/history/History.js","App.js","index.js"],"names":["Total","resultIncome","resultExpenses","totalBalance","className","Operation","addTransaction","addDescription","addAmount","description","amount","id","type","placeholder","onChange","value","onClick","HistoryItem","transaction","delTransaction","add","History","transactions","map","item","key","App","state","JSON","parse","localStorage","getItem","Date","toString","parseFloat","push","setState","getTotalBalance","e","target","getIncome","reduce","acc","getExpenses","filter","this","addStorage","setItem","stringify","Fragment","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7812de9f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Total = ({ resultIncome, resultExpenses, totalBalance }) => {\r\n    return (\r\n        <section className=\"total\">\r\n            <header className=\"total__header\">\r\n                <h3>Баланс</h3>\r\n                <p className=\"total__balance\">{totalBalance} ₽</p>\r\n            </header>\r\n            <div className=\"total__main\">\r\n                <div className=\"total__main-item total__income\">\r\n                    <h4>Доходы</h4>\r\n                    <p className=\"total__money total__money-income\">\r\n                        {resultIncome} ₽\r\n                    </p>\r\n                </div>\r\n                <div className=\"total__main-item total__expenses\">\r\n                    <h4>Расходы</h4>\r\n                    <p className=\"total__money total__money-expenses\">\r\n                        -{resultExpenses} ₽\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Total;","import React from \"react\";\r\n\r\nconst Operation = ({addTransaction, addDescription, addAmount, description, amount}) => (\r\n    <section className=\"operation\">\r\n        <h3>Новая операция</h3>\r\n        <form id=\"form\">\r\n            <label>\r\n                <input type=\"text\"\r\n                       className=\"operation__fields operation__name\"\r\n                       placeholder=\"Наименование операции\"\r\n                       onChange={addDescription}\r\n                       value={description}\r\n                />\r\n            </label>\r\n            <label>\r\n                <input type=\"number\"\r\n                       className=\"operation__fields operation__amount\"\r\n                       placeholder=\"Введите сумму\"\r\n                       onChange={addAmount}\r\n                       value={amount}\r\n                />\r\n            </label>\r\n            <div className=\"operation__btns\">\r\n                <button onClick={() => addTransaction(false)} type=\"button\" className=\"operation__btn operation__btn-subtract\">РАСХОД</button>\r\n                <button onClick={() => addTransaction(true)} type=\"button\" className=\"operation__btn operation__btn-add\">ДОХОД</button>\r\n            </div>\r\n\r\n        </form>\r\n    </section>\r\n);\r\n\r\nexport default Operation;","import React from \"react\";\r\n\r\nconst HistoryItem = ({ transaction, delTransaction }) => (\r\n    <li className={`history__item history__item-${transaction.add ? 'plus' : 'minus'}`}>{transaction.description}\r\n        <span className=\"history__money\">{transaction.amount} ₽</span>\r\n        <button className=\"history__delete\"\r\n                onClick={() => delTransaction(transaction.id)}>x</button>\r\n    </li>\r\n);\r\n\r\nexport default HistoryItem;\r\n","import React from \"react\";\r\nimport HistoryItem from \"./HistoryItem\";\r\n\r\nconst History = ({ transactions, delTransaction }) => {\r\n    return (\r\n        <section className=\"history\">\r\n            <h3>История расходов</h3>\r\n            <ul className=\"history__list\">\r\n                {transactions.map(item => <HistoryItem key={item.id}\r\n                                                       transaction={item}\r\n                                                       delTransaction={delTransaction}\r\n                />)}\r\n            </ul>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default History;","import React, {Component} from 'react';\r\nimport Total from \"./components/total/Total\";\r\nimport Operation from \"./components/operation/Operation\";\r\nimport History from \"./components/history/History\";\r\n\r\n\r\nclass App extends Component {\r\n\r\n    state = {\r\n        transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\r\n        description: '',\r\n        amount: '',\r\n        resultIncome: 0,\r\n        resultExpenses: 0,\r\n        totalBalance: 0,\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.getTotalBalance();\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        this.addStorage();\r\n    };\r\n\r\n    addTransaction = add => {\r\n\r\n        const transactions = [...this.state.transactions];\r\n\r\n        const transaction = {\r\n            id: `cmr${(+new Date).toString(16)}`,\r\n            description: this.state.description,\r\n            amount: parseFloat(this.state.amount),\r\n            add\r\n        };\r\n        transactions.push(transaction)\r\n        this.setState({\r\n            transactions,\r\n            description: '',\r\n            amount: '',\r\n        }, this.getTotalBalance);\r\n    };\r\n\r\n    addAmount = e => {\r\n        this.setState({amount: e.target.value})\r\n    }\r\n\r\n    addDescription = e => {\r\n        this.setState({description: e.target.value})\r\n    }\r\n\r\n    getIncome = () => this.state.transactions\r\n        .reduce((acc, item) => item.add ? acc + item.amount : acc, 0)\r\n\r\n    getExpenses = () => this.state.transactions\r\n        .reduce((acc, item) => !item.add ? acc + item.amount : acc, 0)\r\n\r\n\r\n    getTotalBalance() {\r\n        const resultIncome = this.getIncome();\r\n        const resultExpenses = this.getExpenses();\r\n\r\n        const totalBalance = resultIncome - resultExpenses;\r\n        this.setState({\r\n            resultIncome,\r\n            resultExpenses,\r\n            totalBalance,\r\n        });\r\n    };\r\n\r\n    addStorage() {\r\n        localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions))\r\n    };\r\n\r\n    delTransaction = key => {\r\n        const transactions = this.state.transactions.filter(item => item.id !== key);\r\n        this.setState({ transactions }, this.getTotalBalance)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <header className=\"header\">\r\n                    <h1>Кошелек</h1>\r\n                    <h2>Калькулятор расходов</h2>\r\n                </header>\r\n                <main>\r\n\r\n                    <div className=\"container\">\r\n                        <Total resultIncome={this.state.resultIncome}\r\n                               resultExpenses={this.state.resultExpenses}\r\n                               totalBalance={this.state.totalBalance}\r\n                        />\r\n                        <History transactions={this.state.transactions}\r\n                                 delTransaction={this.delTransaction}\r\n                        />\r\n                        <Operation addTransaction={this.addTransaction}\r\n                                   addAmount={this.addAmount}\r\n                                   addDescription={this.addDescription}\r\n                                   description={this.state.description}\r\n                                   amount={this.state.amount}\r\n                        />\r\n                    </div>\r\n                </main>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\nimport './style.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}